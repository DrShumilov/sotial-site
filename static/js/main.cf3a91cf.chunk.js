(window["webpackJsonpproject-1"]=window["webpackJsonpproject-1"]||[]).push([[0],{11:function(e,t,n){e.exports={prof_txt:"profile_prof_txt__1BAof",full_name:"profile_full_name__3Cetk",stat:"profile_stat__2wINw",stat_label:"profile_stat_label__1whPt",prof_content:"profile_prof_content___Vu90",main_info:"profile_main_info__2IcMe",contacts:"profile_contacts__1Qyrb",edit_btn:"profile_edit_btn__16j1p",content:"profile_content__23S6Q",prof_icon:"profile_prof_icon__1Kdnk",select_img_button:"profile_select_img_button__6FqPD"}},133:function(e,t,n){e.exports=n.p+"static/media/img_profile.e6348d6b.png"},159:function(e,t,n){e.exports=n(289)},242:function(e,t,n){},243:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(65),s=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(6),i=n(48),u=n(19);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={messagesData:[{id:1,msg:"Hi, how are you!s?"},{id:2,msg:"Hi! Iam fine. Wat about you?"},{id:3,msg:"Note bad..."}],dialogsData:[{id:1,name:"Dmitrii"},{id:2,name:"Mikel"},{id:3,name:"Sasha"},{id:4,name:"Nikita"},{id:5,name:"Valera"}]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n={id:4,msg:t.newMessageBody};return p({},e,{messagesData:[].concat(Object(i.a)(e.messagesData),[n])});default:return e}},d=n(8),g=n.n(d),b=n(14),_=n(128).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9a3c8ea2-2e10-4500-a44d-97fad598cb53"}}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return _.get("users?page=".concat(e," &count=").concat(t)).then((function(e){return e.data}))},E=function(e){return _.post("follow/".concat(e)).then((function(e){return e.data}))},v=function(e){return _.delete("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return console.warn("Obsolete mathod. Please use profileAPI object."),w.getProfile(e)},w={getProfile:function(e){return _.get("profile/"+e)},getStatus:function(e){return _.get("profile/status/"+e)},updateStatus:function(e){return _.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),_.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return _.put("profile",e)}},P=function(){return _.get("auth/me")},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _.post("auth/login",{email:e,password:t,rememberMe:n})},j=function(){return _.delete("auth/login")},S=n(24);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={postsData:[{id:1,msg:"Hi, its my first post!!!",likes:12},{id:2,msg:"Its my second post...",likes:4}],profile:null,status:""},C=function(e){return{type:"SET_STATUS",status:e}},x=function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:3,msg:t.postText,likes:0};return N({},e,{postsData:[].concat(Object(i.a)(e.postsData),[n])});case"SET_STATUS":return N({},e,{status:t.status});case"SET_USER_PROFILE":return N({},e,{profile:t.profile});case"SAVE_PROFILE_PHOTO":return N({},e,{profile:N({},e.profile,{photos:t.photos})});default:return e}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=function(e,t,n,a){return e.map((function(e){return e[n]===t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},a):e}))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={usersData:[],pageSize:12,totalUsersCount:0,currentPage:1,isFetching:!0,followingIsProgress:[]},M=function(e){return{type:"FOLLOW",userId:e}},R=function(e){return{type:"UNFOLLOW",userId:e}},z=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},G=function(e){return{type:"SET_USERS_TOTAL_COUNT",totalUsersCount:e}},V=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},J=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",followingIsProgress:e,userId:t}},W=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J(!0,n)),e.next=3,a;case 3:0===e.sent.resultCode&&t(r),t(J(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return F({},e,{usersData:A(e.usersData,t.userId,"id",{followed:!0})});case"UNFOLLOW":return F({},e,{usersData:A(e.usersData,t.userId,"id",{followed:!1})});case"SET_USERS":return F({},e,{usersData:t.usersData});case"SET_CURRENT_PAGE":return F({},e,{currentPage:t.currentPage});case"SET_USERS_TOTAL_COUNT":return F({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return F({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return F({},e,{followingIsProgress:t.followingIsProgress?[].concat(Object(i.a)(e.followingIsProgress),[t.userId]):e.followingIsProgress.filter((function(e){return e!==t.userId}))});default:return e}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X="social_project/auth/SET_USER_DATA",Z={id:null,email:null,login:null,isAuth:!1},q=function(e,t,n,a){return{type:X,data:{id:e,email:t,login:n,isAuth:a}}},Q=function(){return function(){var e=Object(b.a)(g.a.mark((function e(t){var n,a,r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.email,s=a.login,t(q(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return K({},e,{},t.data);default:return e}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={initializade:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZADE_SACCESS":return ee({},e,{initializade:!0});default:return e}},ae=n(129),re=n(127),oe=Object(c.c)({messagesPage:f,profilePage:I,usersPage:B,auth:Y,form:re.a,app:ne}),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,ce=Object(c.e)(oe,se(Object(c.a)(ae.a)));window.store=ce;var ie=ce,ue=(n(242),n(25)),le=n(26),pe=n(28),me=n(27),fe=n(29),de=(n(243),n(90)),ge=n.n(de),be=n(10),_e=function(e){return r.a.createElement("header",{className:ge.a.header},r.a.createElement("img",{src:"https://static.rfstat.com/renderforest/images/v2/landing-pics/logo_landing/ma5.png"}),r.a.createElement("div",{className:ge.a.login_btn},e.isAuth?r.a.createElement("div",null," ",e.login," ",r.a.createElement("button",{onClick:e.logout},"Logout")):r.a.createElement(be.b,{to:"/login"},"Login")))},he=n(9),Ee=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return r.a.createElement(_e,this.props)}}]),t}(r.a.Component),ve=Object(he.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:0===e.sent.data.resultCode&&t(q(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ee),Oe=n(36),we=n.n(Oe),Pe=function(){return r.a.createElement("nav",{className:we.a.nav},r.a.createElement("div",null,r.a.createElement(be.b,{to:"/profile",activeClassName:we.a.active},"My profile")),r.a.createElement("div",null,r.a.createElement(be.b,{to:"/dialogs",activeClassName:we.a.active},"Massages")),r.a.createElement("div",null,r.a.createElement(be.b,{to:"/users",activeClassName:we.a.active},"Users")),r.a.createElement("div",null,r.a.createElement(be.b,{to:"/news",activeClassName:we.a.active},"News")),r.a.createElement("div",null,r.a.createElement(be.b,{to:"/music",activeClassName:we.a.active},"Music")),r.a.createElement("div",null,r.a.createElement(be.b,{to:"/settings",activeClassName:we.a.active},"Settings")))},ye=(n(248),function(e){return r.a.createElement("div",null,"News")}),je=(n(249),function(e){return r.a.createElement("div",null,"Music")}),Se=(n(250),function(e){return r.a.createElement("div",null,"Settings")}),ke=n(125),Ne=n(126),De=function(e){if(!e)return"field is required"},Ce=function(e){return function(t){if(t.length>e)return"Max simbols is ".concat(e)}},xe=n(70),Ie=n(39),Te=n.n(Ie),Ae=function(e){e.input;var t=e.meta,n=Object(xe.a)(e,["input","meta"]);return r.a.createElement("div",{className:Te.a.form_control+" "+(t.touched&&t.error&&Te.a.error)},n.children,t.touched&&t.error&&r.a.createElement("span",null,t.error))},Ue=function(e){var t=e.input,n=(e.meta,Object(xe.a)(e,["input","meta"]));return r.a.createElement(Ae,e,r.a.createElement("textarea",Object.assign({},t,n)))},Fe=function(e){var t=e.input,n=(e.meta,Object(xe.a)(e,["input","meta"]));return r.a.createElement(Ae,e,r.a.createElement("input",Object.assign({},t,n)))},Le=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return r.a.createElement("div",null,r.a.createElement(ke.a,Object.assign({placeholder:e,name:t,validators:n,component:a},o))," ",s)},Me=n(35),Re=Object(Ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement(ke.a,{name:"email",component:Fe,type:"text",placeholder:"email",validate:[De]}),r.a.createElement(ke.a,{name:"password",component:Fe,type:"password",placeholder:"Password",validate:[De]}),r.a.createElement(ke.a,{name:"rememberMe",component:"input",type:"checkbox"})," remember me",r.a.createElement("button",{type:"submit"},"Login"),n&&r.a.createElement("span",{className:Te.a.summary_error},n))})),ze=Object(he.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(b.a)(g.a.mark((function a(r){var o,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(Q()):(s=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(S.a)("login",{_error:s})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(Me.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Re,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Ge=n(40),Ve=n(11),Je=n.n(Ve),We=n(47),Be=n.n(We),He=function(e){var t=Object(a.useState)(!1),n=Object(Ge.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)(e.status),i=Object(Ge.a)(c,2),u=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("main",null,r.a.createElement("label",{className:Je.a.stat_label},"Status: "),!o&&r.a.createElement("label",{onDoubleClick:function(){s(!0)}},e.status||"no status"),o&&r.a.createElement("input",{value:u,onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(u)}}))},Ke=n(133),Xe=n.n(Ke),Ze=Object(Ne.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return r.a.createElement("form",{onSubmit:t,className:Je.a.prof_content},a&&r.a.createElement("span",{className:Te.a.summary_error},a),r.a.createElement("div",null,r.a.createElement("button",null,"Save")),r.a.createElement("div",{className:Je.a.main_info},r.a.createElement("p",null,"fullName: ",Le("full name","fullName",[],Fe)),r.a.createElement("p",null,"Job: ",Le("Job","lookingForAJob",[],Fe,{type:"checkbox"})),r.a.createElement("p",null,"Professional skills: ",Le("Professional skills","lookingForAJobDescription",[],Ue)),r.a.createElement("p",null,"About me: ",Le("About me","aboutMe",[],Ue))),r.a.createElement("div",{className:Je.a.contacts},r.a.createElement("p",null,"Contacts: ",Object.keys(n.contacts).map((function(e){return r.a.createElement("div",{key:e},e,": ",Le(e,"contacts."+e,[],Fe))})))))})),qe=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return r.a.createElement("div",{className:Je.a.prof_content},r.a.createElement("div",null,n&&r.a.createElement("button",{className:Je.a.edit_btn,onClick:a},"Edit your profile information")),r.a.createElement("div",{className:Je.a.main_info},r.a.createElement("p",null,r.a.createElement("label",null,"fullName:")," ",t.fullName),r.a.createElement("p",null,r.a.createElement("label",null,"Job:")," ",t.lookingForAJob?"search":"no"),r.a.createElement("p",null,r.a.createElement("label",null,"Professional skills:")," ",t.lookingForAJobDescription),r.a.createElement("p",null,r.a.createElement("label",null,"About me:")," ",t.aboutMe)),r.a.createElement("div",{className:Je.a.contacts},r.a.createElement("div",null,r.a.createElement("h3",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return r.a.createElement(Qe,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))},Qe=function(e){var t=e.contactTitle,n=e.contactValue;return r.a.createElement("div",null,r.a.createElement("label",null,t,": "),r.a.createElement("a",{href:"contactValue"},n))},Ye=function(e){var t=e.profile,n=e.status,o=e.updateStatus,s=e.isOwner,c=e.savePhoto,i=e.saveProfile,u=Object(a.useState)(!1),l=Object(Ge.a)(u,2),p=l[0],m=l[1];return t?r.a.createElement("main",{className:Je.a.content},r.a.createElement("div",{className:Je.a.prof_icon},r.a.createElement("img",{src:null!=t.photos.large?t.photos.large:Xe.a}),s&&r.a.createElement("div",{className:Je.a.select_img_button},r.a.createElement("label",{for:"file"},"Choose your new profile photo"),r.a.createElement("input",{id:"file",name:"file",type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}}))),r.a.createElement("div",{className:Je.a.prof_txt},r.a.createElement("div",{className:Je.a.full_name},r.a.createElement("h1",null,t.fullName)),r.a.createElement("div",{className:Je.a.stat},r.a.createElement(He,{status:n,updateStatus:o})),p?r.a.createElement(Ze,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){m(!1)}))}}):r.a.createElement(qe,{goToEditMode:function(){m(!0)},profile:t,isOwner:s}))):r.a.createElement("img",{src:Be.a})},$e=n(94),et=n.n($e),tt=n(56),nt=n.n(tt),at=function(e){return r.a.createElement("main",{className:nt.a.case},r.a.createElement("div",{className:nt.a.post_avatar},r.a.createElement("img",{src:"https://myduolife.com/images/img-profile.png"})),r.a.createElement("div",{className:nt.a.post_txt},r.a.createElement("p",null,e.msg)),r.a.createElement("div",{className:nt.a.likes},r.a.createElement("span",null,e.likes+" likes")))},rt=n(72),ot=n.n(rt),st=Ce(10),ct=Object(Ne.a)({form:"newPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(ke.a,{className:ot.a.new_txt,component:Ue,type:"text",name:"postText",validate:[De,st]}),r.a.createElement("button",{type:"submit"},"Add post"))})),it=function(e){var t=e.postsData.map((function(e){return r.a.createElement(at,{key:e.id,msg:e.msg,likes:e.likes})}));r.a.createRef();return r.a.createElement("div",{className:ot.a.case},r.a.createElement(ct,{onSubmit:function(t){e.addPost(t.postText)}}),r.a.createElement("div",{className:ot.a.posts_case},t))},ut=Object(he.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",postText:e}}(t))}}}))(it),lt=function(e){return r.a.createElement("main",{className:et.a.content},r.a.createElement("div",{className:et.a.prev_img},r.a.createElement("img",{src:"https://interier-foto.ru/wp-content/uploads/dlinnye-foto-4.jpg"})),r.a.createElement(Ye,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),r.a.createElement(ut,null))},pt=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUser)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(lt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(r.a.Component),mt=Object(c.d)(Object(he.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUser:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:x,getStatus:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getStatus(e);case 2:a=t.sent,n(C(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(C(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"SAVE_PROFILE_PHOTO",photos:a.data.data.photos});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n,a){var r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,w.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(x(r)),t.next=10;break;case 8:return n(Object(S.a)("edit-profile",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Me.f)(pt),ft=n(30),dt=n.n(ft),gt=function(e){for(var t=e.totalUsersCount,n=e.pageSize,o=e.currentPage,s=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/n),l=[],p=1;p<=u;p++)l.push(p);var m=Math.ceil(u/i),f=Object(a.useState)(1),d=Object(Ge.a)(f,2),g=d[0],b=d[1],_=(g-1)*i+1,h=g*i;return r.a.createElement("div",{className:dt.a.num_case},g>1&&r.a.createElement("button",{onClick:function(){b(g-1)}},"PREV"),l.filter((function(e){return e>=_&&e<=h})).map((function(e){return r.a.createElement("span",{className:o===e&&dt.a.selectPage,key:e,onClick:function(t){s(e)}},e)})),m>g&&r.a.createElement("button",{onClick:function(){b(g+1)}},"NEXT"))},bt=function(e){var t=e.user,n=e.followingIsProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",{className:dt.a.user_card},r.a.createElement("div",{className:dt.a.user_icon},r.a.createElement(be.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:"https://myduolife.com/images/img-profile.png"}))),r.a.createElement("div",{className:dt.a.user_txt},r.a.createElement("p",null,t.name),r.a.createElement("p",null,t.status)),r.a.createElement("div",{className:dt.a.follow_btn},t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow")))},_t=function(e){return r.a.createElement("div",null,r.a.createElement(gt,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),r.a.createElement("div",{className:dt.a.user_case},e.usersData.map((function(t){return r.a.createElement(bt,{key:t.id,user:t,follow:e.follow,followingIsProgress:e.followingIsProgress,unfollow:e.unfollow})}))))},ht=function(e){return e.usersPage.usersData},Et=function(e){return e.usersPage.pageSize},vt=function(e){return e.usersPage.totalUsersCount},Ot=function(e){return e.usersPage.currentPage},wt=function(e){return e.usersPage.isFetching},Pt=function(e){return e.usersPage.followingIsProgress},yt=function(e){function t(){var e,n;Object(ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(pe.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.isFetching?r.a.createElement("img",{src:Be.a}):null,r.a.createElement(_t,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,usersData:this.props.usersData,unfollow:this.props.unfollow,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followingIsProgress:this.props.followingIsProgress,follow:this.props.follow}))}}]),t}(r.a.Component),jt=Object(c.d)(Object(he.b)((function(e){return{usersData:ht(e),pageSize:Et(e),totalUsersCount:vt(e),currentPage:Ot(e),isFetching:wt(e),followingIsProgress:Pt(e)}}),{follow:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,E(e),M(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(b.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(n,e,v(e),R(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:z,setTotalUsersCount:G,toggleIsFollowingProgress:J,getUsers:function(e,t){return function(){var n=Object(b.a)(g.a.mark((function n(a){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(V(!0)),a(z(e)),n.next=4,h(e,t);case 4:r=n.sent,a(V(!1)),a({type:"SET_USERS",usersData:r.items}),a(G(r.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(yt),St=n(41),kt=n.n(St),Nt=function(e){return r.a.createElement("div",{className:kt.a.dialog_itm},r.a.createElement(be.b,{to:"/dialogs/"+e.id},e.name))},Dt=function(e){return r.a.createElement("div",{className:kt.a.message_itm},r.a.createElement("p",null,e.msg))},Ct=Ce(10),xt=Object(Ne.a)({form:"addMessageBody"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(ke.a,{name:"newMessageBody",component:Ue,type:"text",validate:[De,Ct]}),r.a.createElement("button",{type:"submit"},"Send"))})),It=function(e){var t=e.messagesPage,n=t.dialogsData.map((function(e){return r.a.createElement(Nt,{name:e.name,id:e.id})})),a=t.messagesData.map((function(e){return r.a.createElement(Dt,{msg:e.msg})}));r.a.createRef();return r.a.createElement("div",{className:kt.a.dialogs},r.a.createElement("div",{className:kt.a.dialogs_list},n),r.a.createElement("div",{className:kt.a.messages_wrap},a,r.a.createElement("div",{className:kt.a.new_message_case},r.a.createElement(xt,{onSubmit:function(t){e.addMessage(t.newMessageBody)}}))))},Tt=function(e){return{isAuth:e.auth.isAuth}},At=Object(c.d)(Object(he.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:"ADD-MESSAGE",newMessageBody:e}}(t))}}})),(function(e){var t=function(t){function n(){return Object(ue.a)(this,n),Object(pe.a)(this,Object(me.a)(n).apply(this,arguments))}return Object(fe.a)(n,t),Object(le.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(Me.a,{to:"/login"})}}]),n}(r.a.Component);return Object(he.b)(Tt)(t)}))(It),Ut=function(e){function t(){return Object(ue.a)(this,t),Object(pe.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initializade?r.a.createElement("div",{className:"App"},r.a.createElement(ve,null),r.a.createElement(Pe,null),r.a.createElement("div",{className:"App_wrapper_content"},r.a.createElement(Me.a,{exact:!0,from:"/",to:"/profile"}),r.a.createElement(Me.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(mt,null)}}),r.a.createElement(Me.b,{path:"/dialogs",render:function(){return r.a.createElement(At,null)}}),r.a.createElement(Me.b,{path:"/users",render:function(){return r.a.createElement(jt,null)}}),r.a.createElement(Me.b,{path:"/news",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(Me.b,{path:"/music",render:function(){return r.a.createElement(je,null)}}),r.a.createElement(Me.b,{path:"/settings",render:function(){return r.a.createElement(Se,null)}}),r.a.createElement(Me.b,{path:"/login",render:function(){return r.a.createElement(ze,null)}}))):r.a.createElement("img",{src:Be.a})}}]),t}(r.a.Component),Ft=Object(he.b)((function(e){return{initializade:e.app.initializade}}),{initializeApp:function(){return function(e){var t=e(Q());Promise.all([t]).then((function(){e({type:"INITIALIZADE_SACCESS"})}))}}})(Ut),Lt=function(e){return r.a.createElement(be.a,null,r.a.createElement(he.a,{store:ie},r.a.createElement(Ft,null)))};s.a.render(r.a.createElement(Lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},30:function(e,t,n){e.exports={user_case:"users_user_case__2rPh9",user_card:"users_user_card__1E0tj",user_icon:"users_user_icon__9wCSE",user_txt:"users_user_txt__3PEEI",follow_btn:"users_follow_btn__2fGVR",num_case:"users_num_case__kObVo",selectPage:"users_selectPage__1MUho"}},36:function(e,t,n){e.exports={nav:"navbar_nav__V27HU",active:"navbar_active__dmLT5"}},39:function(e,t,n){e.exports={form_control:"FormControl_form_control__lD5W1",error:"FormControl_error__30owj",summary_error:"FormControl_summary_error__1ZKni"}},41:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__3RgN0",dialogs_list:"dialogs_dialogs_list__ul7vr",dialog_itm:"dialogs_dialog_itm__2wOwb",active:"dialogs_active__3Beof",messages_wrap:"dialogs_messages_wrap__1CJZO",message_itm:"dialogs_message_itm__u073K",new_message_case:"dialogs_new_message_case__1kO9k"}},47:function(e,t,n){e.exports=n.p+"static/media/25.d77aaca0.svg"},56:function(e,t,n){e.exports={case:"post_element_case__XDIKq",post_avatar:"post_element_post_avatar__3eCdH",post_txt:"post_element_post_txt__1ZAO0",likes:"post_element_likes__39um5"}},72:function(e,t,n){e.exports={case:"posts_case__15KLf",new_txt:"posts_new_txt__cyZAR"}},90:function(e,t,n){e.exports={header:"header_header__yWuJE",login_btn:"header_login_btn__2T2XA"}},94:function(e,t,n){e.exports={content:"main_content__3FMXa",prev_img:"main_prev_img__3gL7T"}}},[[159,1,2]]]);
//# sourceMappingURL=main.cf3a91cf.chunk.js.map